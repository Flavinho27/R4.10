<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>App ToDo</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>

<body class="teal lighten-5" id="app">

  <nav class="teal darken-3" role="navigation">
    <div class="nav-wrapper container">
      <a id="logo-container" href="#" class="btn" @click="resetForm"><img src="../app-todo/ressources/logo.png" alt="Logo" width="50rem" /></a>
      <ul class="right hide-on-med-and-down">
        <li><a href="#">Navbar Link</a></li>
      </ul>

      <!-- <ul id="nav-mobile" class="sidenav">
        <li><a href="#">Navbar Link</a></li>
      </ul>
      <a href="#" data-target="nav-mobile" class="sidenav-trigger"><i class="material-icons">menu</i></a> -->
    </div>
  </nav>

  <div>

    <div class="button-bottom">
      <div class="center">
        <button class="btn button-add waves-effect waves-ligh" @click="showAddForm = true"
          v-show="!showAddForm &&!showSearchForm && !showConfirmation">Ajouter <i class="material-icons right">add_task</i></button>
      </div>

      <div class="center">
        <button class="btn button-search waves-effect waves-ligh" @click="showSearchForm = true"
          v-show="!showAddForm && !showSearchForm && !showConfirmation">Rechercher <i class="material-icons right">search</i></button>
      </div>
    </div>


    <table v-show="!showAddForm && !showSearchForm && !showConfirmation">
      <thead>
        <tr class="teal darken-1 teal-text text-lighten-5">
          <th>Date de début</th>
          <th>Date de fin</th>
          <th>État</th>
          <th>Priorité</th>
          <th>Description</th>
          <th><i class="material-icons" @click="suppressionToutesTaches()">delete_forever</i></th>
        </tr>
      </thead>
      <tbody>
        <tr v-for="tache in taches" :key="tache.id">
          <td>{{ tache.dateDebut }}</td>
          <td>{{ tache.dateFin }}</td>
          <td>{{ tache.etat }}</td>
          <td>{{ tache.priorite }}</td>
          <td>{{ tache.description }}</td>
          <td><i class="material-icons" @click="suppressionTache(tache.id)">delete</i></td>
        </tr>
      </tbody>
    </table>


    <div v-show="showAddForm && !showConfirmation && !showSearchForm">
      <form @submit.prevent="ajoutTache">
        <div class="row">
          <div class="input-field col s12 m6">
            <input v-model="description" id="description" type="text" class="validate">
            <label for="description">Description</label>
          </div>
          <div class="input-field col s12 m6">
            <input v-model="dateDebut" id="dateDebut" type="date" class="datepicker">
            <label for="dateDebut">Date de début</label>
          </div>
          <div class="input-field col s12 m6">
            <input v-model="dateFin" id="dateFin" type="date" class="datepicker">
            <label for="dateFin">Date de fin</label>
          </div>
          <div class="input-field col s12 m6">
            <select v-model="etat" class="browser-default">
              <option value="" disabled selected>Choisir un état</option>
              <option value="À faire">À faire</option>
              <option value="En cours">En cours</option>
              <option value="Terminé">Terminé</option>
            </select>
          </div>
          <div class="input-field col s12 m6">
            <select v-model="priorite" class="browser-default">
              <option value="" disabled selected>Choisir une priorité</option>
              <option value="Haute">Haute</option>
              <option value="Moyenne">Moyenne</option>
              <option value="Basse">Basse</option>
            </select>
          </div>
        </div>
        <div class="row">
          <div class="col s12">
            <button class="btn" type="submit">Valider</button>
          </div>
        </div>
      </form>
    </div>

    <div v-show="showConfirmation">
      <div class="center">
        <p>Tâche ajoutée avec succès !</p>
        <button class="btn" @click="resetForm">OK</button>
      </div>
    </div>


    
    <div v-show="showSearchForm && !showConfirmation && !showAddForm">
      <form @submit.prevent="rechercherTache">
        <div class="row">
          <div class="input-field col s12 m6">
            <input v-model="description" id="description" type="text" class="validate">
            <label for="description">Description</label>
          </div>
          <div class="input-field col s12 m6">
            <input v-model="dateDebut" id="dateDebut" type="date" class="datepicker">
            <label for="dateDebut">Date de début</label>
          </div>
          <div class="input-field col s12 m6">
            <input v-model="dateFin" id="dateFin" type="date" class="datepicker">
            <label for="dateFin">Date de fin</label>
          </div>
          <div class="input-field col s12 m6">
            <select v-model="etat" class="browser-default">
              <option value="" disabled selected>Choisir un état</option>
              <option value="À faire">À faire</option>
              <option value="En cours">En cours</option>
              <option value="Terminé">Terminé</option>
            </select>
          </div>
          <div class="input-field col s12 m6">
            <select v-model="priorite" class="browser-default">
              <option value="" disabled selected>Choisir une priorité</option>
              <option value="Haute">Haute</option>
              <option value="Moyenne">Moyenne</option>
              <option value="Basse">Basse</option>
            </select>
          </div>
        </div>
        <div class="row">
          <div class="col s12">
            <button class="btn" type="submit">Rechercher</button>
          </div>
        </div>
      </form>
    </div>





  </div>




  <script src="./scripts/main.js"></script>
</body>